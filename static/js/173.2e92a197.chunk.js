"use strict";(self.webpackChunkwalet=self.webpackChunkwalet||[]).push([[173],{319:function(e,t,n){n.d(t,{Z:function(){return ee}});var a=n(9434),o=n(3768),r=n(4716),s=n(9439),c=n(2791),i="ModalAddTransaction_switchBtn__EdJVd",u=n(8683),d=n(7630),l=n(1440),m=n(8182),p=n(8439),f=n(9924),h="SwitchIncomeExpense_toogleIncomeExpense__C5FeU",_="SwitchIncomeExpense_toogleIncomeExpense__text__kzxJ1",x="SwitchIncomeExpense_toogleIncomeExpense__text__income__uWa03",E="SwitchIncomeExpense_toogleIncomeExpense__text__expense__iBVv7",g=n(3329),y=(0,d.ZP)(l.Z)((function(e){e.theme;return{width:80,height:40,padding:4,overflow:"visible","& .MuiSwitch-switchBase":{margin:1,padding:0,"&.Mui-checked":{color:"#fff",transform:"translateX(34px)","& + .MuiSwitch-track":{opacity:1}}},"& .MuiSwitch-thumb":{backgroundColor:"#f4f4f4","&:before":{content:'""',position:"absolute",width:"100%",height:"100%",left:0,top:0,borderRadius:"50%"}},"& .MuiSwitch-track":{width:70,height:30,marginTop:4,borderRadius:17,backgroundColor:"transparent",border:"1px solid #E0E0E0",opacity:1,"&.Mui-checked":{opacity:1}}}})),b=function(e){var t=e.handleToogle,n=e.checked;return(0,g.jsxs)("div",{className:h,children:[(0,g.jsx)("p",{className:(0,m.Z)(_,n&&x),children:"Income"}),(0,g.jsx)(y,{checked:!n,onChange:function(){t()},color:"default",name:"expenseSwitch",inputProps:{"aria-label":"expense switch"},icon:(0,g.jsx)(p.Z,{style:{width:"44px",height:"44px",color:"#24CCA7",filter:"drop-shadow(0px 0px 6px #ffffff) drop-shadow(0px 4px 4px rgba(36, 204, 167, .8))"}}),checkedIcon:(0,g.jsx)(f.Z,{style:{width:"44px",height:"44px",color:"#FF6596",filter:"drop-shadow(0px 0px 6px #ffffff) drop-shadow(0px 4px 4px rgba(255, 101, 150, .8))   "}})}),(0,g.jsx)("p",{className:(0,m.Z)(_,!n&&E),children:"Expense"})]})},T=n(5987),v=n(7391),B=n(1799),D=n.n(B),N=(n(1778),"TransactionForm_form__zbBr5"),C="TransactionForm_form__dateTime__lB5rl",I="TransactionForm_form__dateTime__error__7kMoz",S="TransactionForm_form__amount__lOFwU",j="TransactionForm_form__comment__0a6qe",w="TransactionForm_form__btn__Yt+Bw",Z=n(1413),M=n(8096),F=n(7964),P=n(4387),O=n(5172),A="DropdownCategories_DropdownCategories__HvQ3N",k="DropdownCategories_DropdownCategories__MenuItem__TnAkl",X=["Main expenses","Products","Car","Self care","Child care","Household products","Education","Leisure"],V=function(e){var t=(0,c.useState)(""),n=(0,s.Z)(t,2),a=n[0],o=n[1];return(0,g.jsx)("div",{className:A,children:(0,g.jsx)(M.Z,{fullWidth:!0,variant:"standard",bluronselect:"true",children:(0,g.jsx)(F.Z,{bluronselect:"true",labelId:"expense-category",id:"expense-category",displayEmpty:!0,value:a,onChange:function(t){o(t.target.value),e.handleSetCategory(t.target.value)},renderValue:function(e){return null!==e&&void 0!==e&&e.length?Array.isArray(e)?e.join(", "):e:"Select a category"},sx:(0,Z.Z)({padding:"0 0 0 10px",color:"#BDBDBD"},a&&{color:"#000000"}),IconComponent:O.Z,MenuProps:{disableAutoFocusItem:!0,PaperProps:{style:{borderRadius:20,backgroundColor:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(25px)",boxShadow:"0px 6px 15px rgba(0, 0, 0, 0.1)"}},MenuListProps:{style:{paddingTop:0,paddingBottom:0}},marginThreshold:0},onClose:function(){setTimeout((function(){document.activeElement.blur()}),0)},children:X.map((function(e){return(0,g.jsx)(P.Z,{value:e,className:k,children:e},e)}))})})})},H=n(7140),L=n(6534),Y=n(5705),q=n(2276),W=n(9273),R=n(8007),z=["typeOfTransaction","secondButtonHandler","firstButtonText"],K=[{id:"c9d9e447-1b83-4238-8712-edc77b18b739",name:"Main expenses",type:"EXPENSE"},{id:"27eb4b75-9a42-4991-a802-4aefe21ac3ce",name:"Products",type:"EXPENSE"},{id:"3caa7ba0-79c0-40b9-ae1f-de1af1f6e386",name:"Car",type:"EXPENSE"},{id:"bbdd58b8-e804-4ab9-bf4f-695da5ef64f4",name:"Self care",type:"EXPENSE"},{id:"76cc875a-3b43-4eae-8fdb-f76633821a34",name:"Child care",type:"EXPENSE"},{id:"128673b5-2f9a-46ae-a428-ec48cf1effa1",name:"Household products",type:"EXPENSE"},{id:"1272fcc4-d59f-462d-ad33-a85a075e5581",name:"Education",type:"EXPENSE"},{id:"c143130f-7d1e-4011-90a4-54766d4e308e",name:"Leisure",type:"EXPENSE"},{id:"719626f1-9d23-4e99-84f5-289024e437a8",name:"Other expenses",type:"EXPENSE"},{id:"3acd0ecd-5295-4d54-8e7c-d3908f4d0402",name:"Entertainment",type:"EXPENSE"},{id:"063f1132-ba5d-42b4-951d-44011ca46262",name:"Income",type:"INCOME"}],J=function(e){var t=e.typeOfTransaction,n=e.secondButtonHandler,o=e.firstButtonText,i=(0,T.Z)(e,z).handleBlur,u=(0,a.I0)(),d=(0,c.useState)(""),l=(0,s.Z)(d,2),m=l[0],p=l[1],f=(0,c.useState)("INCOME"),h=(0,s.Z)(f,2),_=h[0],x=h[1],E=(0,Y.TA)({initialValues:{amount:0,transactionDate:new Date,comment:"",categoryId:"",type:""},validationSchema:L.Z,onSubmit:function(e){var t={amount:-Math.abs(e.amount),transactionDate:e.transactionDate,comment:e.comment,categoryId:e.categoryId,type:e.type},n={amount:Math.abs(e.amount),transactionDate:e.transactionDate,comment:e.comment,categoryId:"063f1132-ba5d-42b4-951d-44011ca46262",type:e.type};E.setFieldValue("date",e.transactionDate.valueOf()),u("INCOME"===_?(0,q.h4)(n):(0,q.h4)(t)),E.resetForm(),u((0,r.Kg)()),u(W.Ec)}});return(0,c.useEffect)((function(){var e;E.setFieldValue("categoryId",null===(e=K.find((function(e){return e.name===m})))||void 0===e?void 0:e.id)}),[m]),(0,c.useEffect)((function(){t?E.setFieldValue("type","INCOME"):E.setFieldValue("type","EXPENSE"),x(t?"INCOME":"EXPENSE")}),[t]),(0,g.jsxs)("form",{className:N,onSubmit:E.handleSubmit,children:[!t&&(0,g.jsx)(V,{handleSetCategory:p}),(0,g.jsxs)("div",{children:[(0,g.jsx)(v.Z,{className:S,name:"amount",type:"number",placeholder:"0",inputProps:{style:{textAlign:"center",fontWeight:700}},value:E.values.amount,onChange:E.handleChange,onBlur:i,error:E.touched.amount&&Boolean(E.errors.amount),helperText:E.touched.amount?E.errors.amount:" ",FormHelperTextProps:{style:{top:"100%"}}}),(0,g.jsx)(D(),{controls:R.hT,dateFormat:"YYYY-MM-DD",timeFormat:!1,closeOnSelect:!0,inputProps:{className:C,name:"transactionDate"},initialValue:new Date,value:E.values.transactionDate,onChange:function(e){E.setFieldValue("transactionDate",e)},onBlur:i,error:E.touched.transactionDate&&Boolean(E.errors.transactionDate),helperText:E.touched.transactionDate?E.errors.transactionDate:""}),E.touched.transactionDate&&Boolean(E.errors.transactionDate)&&(0,g.jsx)("p",{className:I,children:E.errors.transactionDate})]}),(0,g.jsx)(v.Z,{className:j,name:"Comment",value:E.values.comment,onChange:function(e){E.setFieldValue("comment",e.target.value)},onBlur:i,error:E.touched.comment&&Boolean(E.errors.comment),helperText:E.touched.comment?E.errors.comment:" ",placeholder:"Comment",inputProps:{style:{padding:10}}}),(0,g.jsx)("div",{className:w,children:(0,g.jsx)(H.Z,{firstButtonType:"submit",firstButtonText:o,secondButtonText:"cancel",secondButtonHandler:n})})]})},Q=n(7380),U=function(e){var t=(0,c.useState)(!0),n=(0,s.Z)(t,2),o=n[0],d=n[1],l=(0,a.v9)(Q.IZ),m=(0,a.I0)();return(0,c.useEffect)((function(){m((0,q.oQ)())}),[m]),(0,g.jsxs)(u.Z,{title:"Add transaction",open:l,onClose:function(){return m((0,r.Kg)())},children:[(0,g.jsx)("div",{className:i,children:(0,g.jsx)(b,{handleToogle:function(){d(!o)},checked:o})}),(0,g.jsx)(J,{typeOfTransaction:o,firstButtonText:"add",secondButtonHandler:function(){return m((0,r.Kg)())}})]})},$="ButtonAddTransactions_ButtonAddTransactions__12-vB",G="ButtonAddTransactions_ButtonAddTransactions__plus__-SXvm",ee=function(){var e=(0,a.I0)();return(0,g.jsxs)("div",{children:[(0,g.jsx)(o.Z,{title:"Add transaction",placement:"top",arrow:!0,children:(0,g.jsx)("button",{type:"button",onClick:function(){e((0,r.Kg)())},className:$,children:(0,g.jsx)("p",{className:G,children:"+"})})}),(0,g.jsx)(U,{})]})}},9980:function(e,t,n){n.d(t,{Z:function(){return M}});var a=n(4942),o=n(8182),r=n(9434),s="ModalEditTransaction_switch__P0qba",c="ModalEditTransaction_switch__active_expense__84xxT",i="ModalEditTransaction_switch__active_income__40QlX",u=n(8683),d=n(9439),l=n(5987),m=n(2791),p=n(7391),f=n(1799),h=n.n(f),_=(n(1778),"EditTransactionForm_form__T8y60"),x="EditTransactionForm_form__dateTime__ZR9-3",E="EditTransactionForm_form__dateTime__error__jjJW2",g="EditTransactionForm_form__amount__L6yE3",y="EditTransactionForm_form__comment__+YcWo",b="EditTransactionForm_form__btn__-rcsL",T=n(7140),v=n(6534),B=n(5705),D=n(2276),N=n(1304),C=n(4716),I=n(8007),S=n(3329),j=["typeOfTransaction","secondButtonHandler","firstButtonText"],w=function(e){e.typeOfTransaction;var t=e.secondButtonHandler,n=e.firstButtonText,a=(0,l.Z)(e,j).handleBlur,o=(0,r.I0)(),s=(0,m.useState)("INCOME"),c=(0,d.Z)(s,2),i=c[0],u=c[1],f=(0,r.v9)(N.WL);(0,m.useEffect)((function(){u(f.type)}),[f]);var w=(0,B.TA)({initialValues:{transactionDate:f.transactionDate,type:f.type,categoryId:f.categoryId,comment:f.comment,amount:Math.abs(f.amount)},validationSchema:v.Z,onSubmit:function(e){var t={transactionDate:e.transactionDate,type:e.type,categoryId:e.categoryId,comment:e.comment,amount:-Math.abs(e.amount)},n={transactionDate:e.transactionDate,type:e.type,categoryId:e.categoryId,comment:e.comment,amount:Math.abs(e.amount)},a={data:"INCOME"===i?n:t,id:f.id};o((0,D.I4)(a)),w.resetForm(),o((0,C.LM)())}});return(0,S.jsxs)("form",{className:_,onSubmit:w.handleSubmit,children:[(0,S.jsxs)("div",{children:[(0,S.jsx)(p.Z,{className:g,name:"amount",type:"number",placeholder:"0",inputProps:{style:{textAlign:"center",fontWeight:700}},value:w.values.amount,onChange:w.handleChange,onBlur:a,error:w.touched.amount&&Boolean(w.errors.amount),helperText:w.touched.amount?w.errors.amount:" ",FormHelperTextProps:{style:{top:"100%"}}}),(0,S.jsx)(h(),{controls:I.hT,dateFormat:"YYYY-MM-DD",timeFormat:!1,closeOnSelect:!0,inputProps:{className:x,name:"transactionDate"},initialValue:new Date,value:w.values.transactionDate,onChange:function(e){w.setFieldValue("transactionDate",e)},onBlur:a,error:w.touched.transactionDate&&Boolean(w.errors.transactionDate),helperText:w.touched.transactionDate?w.errors.transactionDate:""}),w.touched.transactionDate&&Boolean(w.errors.transactionDate)&&(0,S.jsx)("p",{className:E,children:w.errors.transactionDate})]}),(0,S.jsx)(p.Z,{className:y,name:"Comment",value:w.values.comment,onChange:function(e){w.setFieldValue("comment",e.target.value)},onBlur:a,error:w.touched.comment&&Boolean(w.errors.comment),helperText:w.touched.comment?w.errors.comment:" ",placeholder:"Comment",inputProps:{style:{padding:10}}}),(0,S.jsx)("div",{className:b,children:(0,S.jsx)(T.Z,{firstButtonType:"submit",firstButtonText:n,secondButtonText:"cancel",secondButtonHandler:t})})]})},Z=n(7380),M=function(e){var t=e.transaction,n=e.typeOfTransaction,d=(0,r.v9)(Z.Io),l=(0,r.I0)();return(0,S.jsxs)(u.Z,{title:"Edit transaction",open:d,onClose:function(){return l((0,C.LM)())},children:[(0,S.jsxs)("div",{className:s,children:[(0,S.jsx)("span",{className:(0,o.Z)((0,a.Z)({},i,"INCOME"===n)),children:"Income"}),"/",(0,S.jsx)("span",{className:(0,o.Z)((0,a.Z)({},c,"EXPENSE"===n)),children:"Expense"})]}),(0,S.jsx)(w,{transaction:t,typeOfTransaction:n,firstButtonText:"save",firstButtonHandler:function(){return console.log("d")},secondButtonHandler:function(){return l((0,C.LM)())}})]})}},7380:function(e,t,n){n.d(t,{E:function(){return r},IZ:function(){return o},Io:function(){return s},oz:function(){return c},xU:function(){return a}});var a=function(e){return e.global.isLoading},o=function(e){return e.global.isModalAddTransactionOpen},r=function(e){return e.global.isModalLogoutOpen},s=function(e){return e.global.isModalEditTransactionOpen.open},c=function(e){return e.global.isModalEditTransactionOpen.type}},1304:function(e,t,n){n.d(t,{WL:function(){return o},ig:function(){return a}});var a=function(e){return e.finances.transactions},o=function(e){return e.finances.selectedTransaction}},6534:function(e,t,n){var a=n(8007),o=/^\d+(\.\d{0,2})?$/,r=a.Ry().shape({amount:a.Rx("Amount must be a number").required("Amount is required").positive("Amount must be positive").test("two-digits-after-comma","Amount must have at most two digits after comma",(function(e){return!e||o.test(e.toString())})),transactionDate:a.hT().required("Date is required"),category:a.Z_().optional(),comment:a.Z_().optional(),type:a.Z_().required("Type is required").oneOf(["INCOME","EXPENSE"])});t.Z=r}}]);
//# sourceMappingURL=173.2e92a197.chunk.js.map